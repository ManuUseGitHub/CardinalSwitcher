'use strict';var Cardinal=function(){class a{rotateClockwise(a){a=a.reverse();for(var b=0;b<a.length;b++)for(var c,d=0;d<b;d++)c=a[b][d],a[b][d]=a[d][b],a[d][b]=c}rotateCounterClockwise(a){a=a.map(function(a){return a.reverse()});for(var b=0;b<a.length;b++)for(var c,d=0;d<b;d++)c=a[b][d],a[b][d]=a[d][b],a[d][b]=c}rotate180degree(a){this.rotateClockwise(a),this.rotateClockwise(a)}}return new class{constructor(){this.original=[["TL","T-","TR"],["L-","X-","R-"],["BL","B-","BR"]],this.rotator=new a}getPosition(a){for(var b=0;3>b;++b)for(var c,e=0;3>e;++e)if(c=this.original,a==c[b][e])return{i:b,j:e}}normalizeDirection(a){return 2>a.length?a+="-":2<a.length&&(a=/^(.{2}).*$/.exec(a)[1]),a}getDirectionCode(a){var b="";return[".*(t)op.*",".*(b)ottom.*",".*(l)eft.*",".*(r)ight.*"].forEach(function(c){var d;(d=new RegExp(c).exec(a))&&!/(.)\1$/.test(b+d[1])&&(b+=d[1].toUpperCase())}),this.normalizeDirection(b)}normalizeOpitons(a){if(!a.type)throw"You have to set options.type with one of these values [\"opposit\",\"clock\",\"non-clock\"]";if(!a.from1){if(!a.from2)throw"You have to set options.from1 . Availalble directions are [\"top\",\"right\",\"bottom\",\"left\"]";else a.from1=a.from2,a.from2="";a.from1=a.from1.toLowerCase()}a.from2=a.from2?a.from2.toLowerCase():""}getReadable(a){var b={T:"top",B:"bottom",L:"left",R:"right","-":""},c="";return a.split("").forEach(function(a){c+=" "+b[a]}),c}getNextDirection(a){var b=JSON.parse(JSON.stringify(this.original));"opposite"==a.type?this.rotator.rotate180degree(b):"clock"==a.type?this.rotator.rotateCounterClockwise(b):"non-clock"==a.type&&this.rotator.rotateClockwise(b),this.normalizeOpitons(a);try{var c=this.getDirectionCode(a.from1+":"+a.from2),d=this.getPosition(c,this.original),e=b[d.i][d.j];return a.codeOnly?e:this.getReadable(e)}catch(a){}}}}.call();